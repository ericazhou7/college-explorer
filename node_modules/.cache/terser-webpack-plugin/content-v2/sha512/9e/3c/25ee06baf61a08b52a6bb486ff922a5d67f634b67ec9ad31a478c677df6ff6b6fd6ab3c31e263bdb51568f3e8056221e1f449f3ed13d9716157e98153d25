{"code":"!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=0)}([function(e,t){var n={},r={},o={},a={},l={};function d(e){console.log(\"Filter creation: \"+e.name);var t=d3.select(\"#\"+e.type).append(\"div\").attr(\"id\",e.id).attr(\"class\",\"filter\");for(var r in t.append(\"h4\").text(e.name),n[e.id]=new Set([]),e.options){var i=e.options[r];t.append(\"div\").attr(\"id\",i.id).attr(\"class\",\"filter-option active\").text(i.name).on(\"click\",u(e,i)),n[e.id].add(i.value)}}function c(e){console.log(\"Slider creation: \"+e.name);var t=d3.sliderHorizontal().domain([e.min,e.max]).width(200).ticks(2).on(\"onchange\",n=>{for(var i in r[e.id]=(t.value()-e.min)/(e.max-e.min),a)l[i]=p(a[i]);v()});d3.select(\"#\"+e.id+\"-slider\").append(\"svg\").attr(\"width\",240).attr(\"height\",50).append(\"g\").call(t),r[e.id]=(t.value()-e.min)/(e.max-e.min)}function s(e){console.log(\"Weight slider creation: \"+e.name);d3.select(\"#\"+e.type);var t=d3.sliderHorizontal().max(1).default(1).width(200).ticks(2).fill(\"blue\").on(\"onchange\",n=>{for(var r in o[e.id]=t.value(),a)l[r]=p(a[r]);v(),m()});d3.select(\"#\"+e.id+\"-weight-slider\").append(\"svg\").attr(\"width\",240).attr(\"height\",50).append(\"g\").call(t),o[e.id]=t.value()}function u(e,t){return function(){!function(e,t){const r=n[e.id].has(t.value);r?n[e.id].delete(t.value):n[e.id].add(t.value);for(var i in a)a[i][e.id]===t.value&&(l[i]=r?0:f(a[i])?1:0);v();d3.select(\"#\"+t.id).classed(\"active\",!r)}(e,t)}}function f(e){for(var t in n){const r=n[t],i=e[t];if(!r.has(i))return!1}return!0}function v(){d3.select(\"#num-schools\").remove(),d3.select(\"#college-list\").remove();var e=d3.select(\"#results\").append(\"div\").attr(\"id\",\"college-list\"),t=Object.keys(l).sort(function(e,t){return l[t]-l[e]}).slice(0,100);for(var n in t)e.append(\"div\").attr(\"class\",\"college-entry\").text(a[Number(t[n])].name);d3.select(\"#results\").insert(\"div\",\"#college-list\").attr(\"id\",\"num-schools\")}function p(e){var t=0,n=0;for(var i in r){var a=1-Math.abs(r[i]-e[i+\"_norm\"]);t+=o[i]*a,n+=o[i]}return t/n}function m(){var e=[];e.push([a[i].kid_mean,l[i]]),console.log(e)}d3.csv(\"data/college_data.csv\",function(e){for(var t=0;t<e.length;t++){var n=e[t].super_opeid;l[n]=1,a[n]={...e[t]}}v()}),d3.json(\"data/filter-options.json\",function(e){for(var t in e){var r=e[t];d(r)}console.log(n)}),d3.json(\"data/slider-options.json\",function(e){for(var t in e){var n=e[t];c(n),s(n)}console.log(r)})}]);","extractedComments":[]}